(this["webpackJsonpbrain-challenge"]=this["webpackJsonpbrain-challenge"]||[]).push([[0],{33:function(e,t,n){e.exports=n(67)},38:function(e,t,n){},39:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},6:function(e){e.exports=JSON.parse('{"name":"brain-challenge","description":"","version":"1.0.0","private":true,"readme":"README.md","main":"app.js","homepage":"https://brain-challenge.herokuapp.com","devUrl":{"node":"http://localhost:4000/","react":"http://localhost:3000/"},"author":{"name":"Fettinger Julien","email":"fettingerjulien@yahoo.fr","url":"https://github.com/fjulien"},"engines":{"node":"12.18.2"},"dependencies":{"@babel/core":"^7.10.5","@babel/node":"^7.10.5","@babel/preset-env":"^7.10.4","@babel/register":"^7.10.5","@reduxjs/toolkit":"^1.3.5","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.5.0","@testing-library/user-event":"^7.2.1","axios":"^0.19.2","babel-preset-es2015":"^6.24.1","compression":"^1.7.4","cookie-parser":"^1.4.5","cors":"^2.8.5","helmet":"^3.22.0","logger":"0.0.1","math-game-function":"^1.1.0","morgan":"^1.10.0","nodemon":"^2.0.3","pg":"^8.3.0","react":"^16.13.1","react-dom":"^16.13.1","react-redux":"^7.2.0","react-scripts":"3.4.1","redux":"^4.0.5","sql-bricks":"^2.0.5"},"devDependencies":{"dotenv":"^8.2.0","node-sass":"^4.14.1","prettier":"^2.0.2","redux-devtools":"^3.5.0"},"scripts":{"start":"BUILD_ENV=production && nodemon --exec babel-node ./app.js","start-node":"nodemon --exec babel-node ./app.js","start-react":"react-scripts start","build-prod":"BUILD_ENV=production && react-scripts build","build-dev":"BUILD_ENV=developper && react-scripts build","test":"react-scripts test","eject":"react-scripts eject","post-prod":"./build.sh"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=(n(38),n(39),n(31)),s=n(4),i=n(11),l=Object(s.b)({name:"timer",initialState:{time:30,interval:void 0,endGame:!1},reducers:{decremente:function(e){e.time>0?e.time--:(e.endGame=!0,clearInterval(e.interval))},initInternval:function(e,t){e.interval=t.payload},initTime:function(e){e.endGame=!1,e.time=30}},extraReducers:{}}),u=l.actions,m=u.decremente,d=u.initInternval,p=u.initTime,b=function(e){return e.timer.time},v=function(e){return e.timer.endGame},f=l.reducer,h=Object(s.b)({name:"operations",initialState:{all:[],isEmpty:!0,score:0},reducers:{startOperation:function(e){e.isEmpty=!1,e.score=0,e.all=[E()]},addOperation:function(e){e.all=[E()].concat(Object(c.a)(e.all))},responseIsSuccess:function(e){e.score++,e.all[0].success=!0},responseIsFail:function(e){e.score--}}});function E(){var e=Object(i.makeRandomNumber)(),t=Object(i.makeRandomNumber)();return{success:!1,nb1:e,nb2:t,response:Object(i.multiply)(e,t),text:"".concat(e," x ").concat(t," = ")}}var O=h.actions,g=O.startOperation,j=O.addOperation,y=(O.end,O.responseIsSuccess),x=O.responseIsFail,S=function(e){return e.operations},N=function(e){return 0!==e.operations.all.length?e.operations.all[0].response:void 0},I=h.reducer,L=n(1);n(46);var R=function(){var e=Object(L.c)(S).all,t=Object(L.c)(v);function n(e,n){return 0===n&&t?"hidden":0===n?"first-operation":e.success?"success":"fail"}return r.a.createElement("ul",{className:"ListOfOperations"},r.a.createElement("li",{className:t?"show-response":"hidden"},"Fin de la partie !!!"),e.map((function(e,a){return r.a.createElement("li",{key:a,className:"".concat(n(e,a)," ").concat(t?"show-response":"")},e.text,e.success?e.response:"?")})))},_=n(10);var k=function(){var e=Object(L.c)(S);return r.a.createElement("div",null,"Temps: ".concat(Object(L.c)(b),"s | Score: ").concat(e.score))};n(47);var D=function(){var e=Object(a.createRef)(),t=Object(L.c)(N),n=Object(L.b)(),o=Object(a.useState)(""),c=Object(_.a)(o,2),s=c[0],i=c[1];return r.a.createElement("form",{className:"RightPanelForm",onSubmit:function(a){a.preventDefault(),e.current.focus();var r=parseInt(s);n(t===r?y():x()),n(j()),i("")}},r.a.createElement("input",{type:"number",step:"1",min:"0",max:"81",name:"response",autoFocus:!0,autoComplete:"off",ref:e,onChange:function(e){var t=e.target.value;t>=0&&t<=81&&i(t)},value:s}),r.a.createElement("label",{htmlFor:"valid"},r.a.createElement("input",{name:"valid",type:"submit",value:"Valid\xe9"})),r.a.createElement("p",null,"ou appuyer sur ENTRER"),r.a.createElement(k,null))},w=(n(48),n(15)),C=n.n(w),T=n(16),U=n(27),F=n(9),B=n.n(F),P=Object(s.b)({name:"user",initialState:{id:void 0,isLoading:!1,pseudo:void 0,score:void 0},reducers:{usersLoading:function(e){e.loading=!0,console.log("action")},usersReceived:function(e,t){var n=t.payload,a=n.id,r=n.pseudo;e.loading=!1,e.pseudo=r,e.id=a}}}),V=P.actions,q=V.usersLoading,A=V.usersReceived,G=function(e){return e.user},J=P.reducer;var W=function(){var e=Object(L.b)(),t=Object(a.useState)(""),n=Object(_.a)(t,2),o=n[0],c=n[1],s=Object(L.c)(G);function i(t){t.preventDefault(),e(function(e){return function(){var t=Object(U.a)(C.a.mark((function t(n){var a,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(q()),console.log("la"),t.next=4,B.a.post("/users",{pseudo:e});case 4:if(a=t.sent,r=a.status,o=a.data,200===r){t.next=9;break}return t.abrupt("return");case 9:n(A(Object(T.a)(Object(T.a)({},o),{},{pseudo:e}))),n((function(e){e(p()),e(g()),e(d(setInterval((function(){return e(m())}),1e3)))}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o)),console.log(s)}return r.a.createElement("form",{className:"StartGame",onSubmit:function(e){return i(e)}},r.a.createElement("label",{htmlFor:"pseudo"},r.a.createElement("input",{type:"text",onChange:function(e){return c(e.target.value)},value:o,name:"pseudo",maxLength:"30",required:!0})),r.a.createElement("label",{htmlFor:"start"},r.a.createElement("input",{name:"start",type:"submit",value:"D\xe9marrer",disabled:0===o.trim().length})),r.a.createElement(k,null))},z=n(28),K=n(29),H=n(32),M=n(30),$=function(e){Object(H.a)(n,e);var t=Object(M.a)(n);function n(){return Object(z.a)(this,n),t.apply(this,arguments)}return Object(K.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"R\xe9vision des tables de multiplaction"),r.a.createElement("dd",null,"Les r\xe8gles sont simples, une foi que vous avez rentr\xe9 votre surnom, vous cliquez sur D\xe9marrer."),r.a.createElement("dd",null,"Vous avez 30 secondes pour r\xe9pondre le plus vite possible \xe0 ces multiplications. Chaque bonnes r\xe9ponses vous donne 1 point et chaque erreur vous enl\xe8ve 1 point."),r.a.createElement("dd",null,"Les chiffres sont al\xe9atoirs entre 0 et 9")))}}]),n}(a.Component),Q=n(6);var X=function(){var e=Object(L.c)(S),t=Object(L.c)(v);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Brain challenge"),r.a.createElement("a",{"data-testid":"link-me",href:Q.author.url},r.a.createElement("i",null,"By FJULIEN")),r.a.createElement("div",{className:"container"},r.a.createElement("article",null,e.isEmpty?r.a.createElement($,null):r.a.createElement(R,null)),r.a.createElement("div",{className:"separation"}),r.a.createElement("article",null,e.isEmpty||t?r.a.createElement(W,null):r.a.createElement(D,null))))},Y=Object(s.a)({reducer:{operations:I,timer:f,user:J}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));F.defaults.baseURL=("production"===Object({NODE_ENV:"production",PUBLIC_URL:"http://localhost:4000",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"http://localhost:4000/"}).BUILD_ENV?Q.homepage:Q.devUrl.node)+"api/",Object(o.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L.a,{store:Y},r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.8f0229d4.chunk.js.map
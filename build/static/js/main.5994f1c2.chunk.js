(this["webpackJsonpbrain-challenge"]=this["webpackJsonpbrain-challenge"]||[]).push([[0],{33:function(e,t,n){e.exports=n(67)},38:function(e,t,n){},39:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},6:function(e){e.exports=JSON.parse('{"name":"brain-challenge","description":"","version":"1.0.0","private":true,"readme":"README.md","main":"app.js","homepage":"https://brain-challenge.herokuapp.com/","devUrl":{"node":"http://localhost:4000/","react":"http://localhost:3000/"},"author":{"name":"Fettinger Julien","email":"fettingerjulien@yahoo.fr","url":"https://github.com/fjulien"},"engines":{"node":"12.18.2"},"dependencies":{"@babel/core":"^7.10.5","@babel/node":"^7.10.5","@babel/preset-env":"^7.10.4","@babel/register":"^7.10.5","@reduxjs/toolkit":"^1.3.5","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.5.0","@testing-library/user-event":"^7.2.1","axios":"^0.19.2","babel-preset-es2015":"^6.24.1","compression":"^1.7.4","cookie-parser":"^1.4.5","cors":"^2.8.5","helmet":"^3.22.0","logger":"0.0.1","math-game-function":"^1.1.0","morgan":"^1.10.0","nodemon":"^2.0.3","pg":"^8.3.0","react":"^16.13.1","react-dom":"^16.13.1","react-redux":"^7.2.0","react-scripts":"3.4.1","redux":"^4.0.5","sql-bricks":"^2.0.5"},"devDependencies":{"dotenv":"^8.2.0","node-sass":"^4.14.1","prettier":"^2.0.2","redux-devtools":"^3.5.0"},"scripts":{"start":"BUILD_ENV=production && nodemon --exec babel-node ./app.js","start-node":"nodemon --exec babel-node ./app.js","start-react":"react-scripts start","build-prod":"BUILD_ENV=production && PUBLIC_URL=$npm_package_homepage && REACT_APP_API_URL=$npm_package_homepage && react-scripts build","build-dev":"BUILD_ENV=developper && PUBLIC_URL=$npm_package_devUrl_node && REACT_APP_API_URL=$npm_package_devUrl_node && react-scripts build","test":"react-scripts test","eject":"react-scripts eject","post-prod":"./build.sh"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),c=(n(38),n(39),n(31)),s=n(4),i=n(11),l=Object(s.b)({name:"timer",initialState:{time:30,interval:void 0,endGame:!1},reducers:{decremente:function(e){e.time>0?e.time--:(e.endGame=!0,clearInterval(e.interval))},initInternval:function(e,t){e.interval=t.payload},initTime:function(e){e.endGame=!1,e.time=30}},extraReducers:{}}),u=l.actions,m=u.decremente,p=u.initInternval,d=u.initTime,b=function(e){return e.timer.time},v=function(e){return e.timer.endGame},f=l.reducer,h=Object(s.b)({name:"operations",initialState:{all:[],isEmpty:!0,score:0},reducers:{startOperation:function(e){e.isEmpty=!1,e.score=0,e.all=[E()]},addOperation:function(e){e.all=[E()].concat(Object(c.a)(e.all))},responseIsSuccess:function(e){e.score++,e.all[0].success=!0},responseIsFail:function(e){e.score--}}});function E(){var e=Object(i.makeRandomNumber)(),t=Object(i.makeRandomNumber)();return{success:!1,nb1:e,nb2:t,response:Object(i.multiply)(e,t),text:"".concat(e," x ").concat(t," = ")}}var g=h.actions,O=g.startOperation,j=g.addOperation,_=(g.end,g.responseIsSuccess),y=g.responseIsFail,L=function(e){return e.operations},R=function(e){return 0!==e.operations.all.length?e.operations.all[0].response:void 0},x=h.reducer,I=n(1);n(46);var S=function(){var e=Object(I.c)(L).all,t=Object(I.c)(v);function n(e,n){return 0===n&&t?"hidden":0===n?"first-operation":e.success?"success":"fail"}return r.a.createElement("ul",{className:"ListOfOperations"},r.a.createElement("li",{className:t?"show-response":"hidden"},"Fin de la partie !!!"),e.map((function(e,a){return r.a.createElement("li",{key:a,className:"".concat(n(e,a)," ").concat(t?"show-response":"")},e.text,e.success?e.response:"?")})))},k=n(10);var N=function(){var e=Object(I.c)(L);return r.a.createElement("div",null,"Temps: ".concat(Object(I.c)(b),"s | Score: ").concat(e.score))};n(47);var U=function(){var e=Object(a.createRef)(),t=Object(I.c)(R),n=Object(I.b)(),o=Object(a.useState)(""),c=Object(k.a)(o,2),s=c[0],i=c[1];return r.a.createElement("form",{className:"RightPanelForm",onSubmit:function(a){a.preventDefault(),e.current.focus();var r=parseInt(s);n(t===r?_():y()),n(j()),i("")}},r.a.createElement("input",{type:"number",step:"1",min:"0",max:"81",name:"response",autoFocus:!0,autoComplete:"off",ref:e,onChange:function(e){var t=e.target.value;t>=0&&t<=81&&i(t)},value:s}),r.a.createElement("label",{htmlFor:"valid"},r.a.createElement("input",{name:"valid",type:"submit",value:"Valid\xe9"})),r.a.createElement("p",null,"ou appuyer sur ENTRER"),r.a.createElement(N,null))},C=(n(48),n(15)),P=n.n(C),D=n(16),w=n(27),T=n(9),A=n.n(T),B=Object(s.b)({name:"user",initialState:{id:void 0,isLoading:!1,pseudo:void 0,score:void 0},reducers:{usersLoading:function(e){e.loading=!0,console.log("action")},usersReceived:function(e,t){var n=t.payload,a=n.id,r=n.pseudo;e.loading=!1,e.pseudo=r,e.id=a}}}),F=B.actions,V=F.usersLoading,q=F.usersReceived,G=function(e){return e.user},J=B.reducer;var W=function(){var e=Object(I.b)(),t=Object(a.useState)(""),n=Object(k.a)(t,2),o=n[0],c=n[1],s=Object(I.c)(G);function i(t){t.preventDefault(),e(function(e){return function(){var t=Object(w.a)(P.a.mark((function t(n){var a,r,o;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(V()),console.log("la"),t.next=4,A.a.post("/users",{pseudo:e});case 4:if(a=t.sent,r=a.status,o=a.data,200===r){t.next=9;break}return t.abrupt("return");case 9:n(q(Object(D.a)(Object(D.a)({},o),{},{pseudo:e}))),n((function(e){e(d()),e(O()),e(p(setInterval((function(){return e(m())}),1e3)))}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o)),console.log(s)}return r.a.createElement("form",{className:"StartGame",onSubmit:function(e){return i(e)}},r.a.createElement("label",{htmlFor:"pseudo"},r.a.createElement("input",{type:"text",onChange:function(e){return c(e.target.value)},value:o,name:"pseudo",maxLength:"30",required:!0})),r.a.createElement("label",{htmlFor:"start"},r.a.createElement("input",{name:"start",type:"submit",value:"D\xe9marrer",disabled:0===o.trim().length})),r.a.createElement(N,null))},$=n(28),z=n(29),K=n(32),H=n(30),M=function(e){Object(K.a)(n,e);var t=Object(H.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"R\xe9vision des tables de multiplaction"),r.a.createElement("dd",null,"Les r\xe8gles sont simples, une foi que vous avez rentr\xe9 votre surnom, vous cliquez sur D\xe9marrer."),r.a.createElement("dd",null,"Vous avez 30 secondes pour r\xe9pondre le plus vite possible \xe0 ces multiplications. Chaque bonnes r\xe9ponses vous donne 1 point et chaque erreur vous enl\xe8ve 1 point."),r.a.createElement("dd",null,"Les chiffres sont al\xe9atoirs entre 0 et 9")))}}]),n}(a.Component),Q=n(6);var X=function(){var e=Object(I.c)(L),t=Object(I.c)(v);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Brain challenge"),r.a.createElement("a",{"data-testid":"link-me",href:Q.author.url},r.a.createElement("i",null,"By FJULIEN")),r.a.createElement("div",{className:"container"},r.a.createElement("article",null,e.isEmpty?r.a.createElement(M,null):r.a.createElement(S,null)),r.a.createElement("div",{className:"separation"}),r.a.createElement("article",null,e.isEmpty||t?r.a.createElement(W,null):r.a.createElement(U,null))))},Y=Object(s.a)({reducer:{operations:x,timer:f,user:J}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));T.defaults.baseURL=("production"===Object({NODE_ENV:"production",PUBLIC_URL:"http://localhost:4000",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"http://localhost:4000/"}).BUILD_ENV?Q.homepage:Q.devUrl.node)+"api/",Object(o.render)(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I.a,{store:Y},r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.5994f1c2.chunk.js.map